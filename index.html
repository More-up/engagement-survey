<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engagement Survey | More-Up</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="js/questions.js"></script>
</head>
<body>
    <!-- ホームページ -->
    <div id="home" class="page active">
        <div class="container">
            <header>
                <h1>Engagement Survey</h1>
                <p class="subtitle">Powered by More-Up</p>
            </header>

            <div class="hero">
                <h2>働きがい・働きやすさを可視化</h2>
                <p>100問の質問で、<br>あなたの職場エンゲージメントを診断します。</p>
                <button class="btn-primary" onclick="showPage('orientation')">診断を開始する</button>
            </div>

            <div class="features">
                <div class="feature-card">
                    <h3>🎯 9つのカテゴリー</h3>
                    <p>仕事の充実感、成長機会、<br>心身の健康、上司のサポートなど</p>
                </div>
                <div class="feature-card">
                    <h3>⏱️ 所要時間 15〜20分</h3>
                    <p>じっくり振り返りながら<br>回答できます</p>
                </div>
                <div class="feature-card">
                    <h3>🔒 完全匿名</h3>
                    <p>率直な回答で<br>正確な診断結果が得られます</p>
                </div>
            </div>
        </div>
    </div>

    <!-- オリエンテーションページ -->
    <div id="orientation" class="page">
        <div class="container">
            <div class="content-card">
                <h2>診断を始める前に</h2>
                <ul>
                    <li>全100問の質問に<br>答えていただきます</li>
                    <li>回答は5段階評価で選択<br>（そう思わない〜そう思う）</li>
                    <li>途中で中断しても、<br>続きから再開できます</li>
                    <li>正直な回答が、<br>より正確な診断結果につながります</li>
                </ul>
                <div style="margin-top: 30px;">
                    <button class="btn-primary" onclick="completeOrientation()">理解しました。次へ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 部署選択ページ -->
    <div id="department-selection" class="page">
        <div class="container">
            <div class="content-card">
                <h2>所属部署を選択してください</h2>
                <p style="margin-bottom: 20px;">診断結果の分析に使用します。<br>匿名性は保たれます。</p>
                <select id="department-select" class="department-select">
                    <option value="">-- 選択してください --</option>
                    <option value="営業部">営業部</option>
                    <option value="経理部">経理部</option>
                    <option value="人事部">人事部</option>
                    <option value="総務部">総務部</option>
                    <option value="開発部">開発部</option>
                    <option value="マーケティング部">マーケティング部</option>
                </select>
                <div style="margin-top: 30px;">
                    <button class="btn-primary" onclick="saveDepartmentAndStart()">診断を開始する</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 診断ページ -->
    <div id="survey" class="page">
        <div class="container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <p class="progress-text"><span id="current-question">1</span> / <span id="total-questions">100</span></p>
            
            <div class="survey-container">
                <div class="category-header">
                    <span id="category-name">カテゴリー</span>
                </div>
                
                <div class="question-card">
                    <h3 id="question-text">質問文がここに表示されます</h3>
                    
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="answer" value="1">
                            <span>そう思わない</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="answer" value="2">
                            <span>あまりそう思わない</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="answer" value="3">
                            <span>どちらとも言えない</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="answer" value="4">
                            <span>ややそう思う</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="answer" value="5">
                            <span>そう思う</span>
                        </label>
                    </div>
                </div>

                <div class="navigation">
                    <button id="prev-btn" class="btn-secondary" onclick="previousQuestion()">← 前の質問</button>
                    <button id="next-btn" class="btn-primary" onclick="nextQuestion()">次の質問 →</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 結果ページ -->
    <div id="results" class="page">
        <div class="container">
            <div class="results-header">
                <h2>診断結果</h2>
                <p id="department-display" style="margin-top: 10px; font-size: 1.1em; color: #fff;"></p>
            </div>

            <div class="results-grid">
                <div class="result-card">
                    <h3>総合スコア</h3>
                    <div class="total-score" id="total-score">0</div>
                    <p class="score-label">/ 500点</p>
                </div>

                <div class="result-card">
                    <h3>カテゴリー別スコア</h3>
                    <div id="category-scores"></div>
                </div>

                <div class="result-card chart-card">
                    <h3>レーダーチャート</h3>
                    <canvas id="radar-chart"></canvas>
                </div>

                <div class="result-card">
                    <h3>総合フィードバック</h3>
                    <div id="feedback"></div>
                </div>
            </div>

            <button class="btn-primary" onclick="restartSurvey()">もう一度診断する</button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
