<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>エンゲージメント診断</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- トップページ -->
        <div id="top-page" class="page active">
            <h1>エンゲージメント診断</h1>
            <p>あなたの職場への関わり方を診断します</p>
            
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>10の視点から診断</h3>
                    <p>エンゲージメントを多角的に測定</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⏱️</div>
                    <h3>約15～20分で完了</h3>
                    <p>簡単な質問に答えるだけ</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📈</div>
                    <h3>詳細なフィードバック</h3>
                    <p>改善ポイントを具体的に提示</p>
                </div>
            </div>

            <button onclick="showPage('orientation')" class="btn-primary">診断を開始する</button>
        </div>

        <!-- オリエンテーションページ -->
        <div id="orientation-page" class="page">
            <h1>診断の流れ</h1>
            <div class="orientation-content">
                <h2>📋 診断について</h2>
                <p><strong>全100問（10のセクションに分類）</strong></p>
                <p>各質問に対して、以下の5段階で回答してください：</p>
                <ul>
                    <li>5: とてもそう思う</li>
                    <li>4: そう思う</li>
                    <li>3: どちらともいえない</li>
                    <li>2: そう思わない</li>
                    <li>1: 全くそう思わない</li>
                </ul>

                <h2>⏱️ 所要時間</h2>
                <p>約15～20分程度で完了します</p>

                <h2>🔒 プライバシー</h2>
                <p>回答内容は統計的に処理され、個人が特定されることはありません</p>

                <h2>💡 回答のコツ</h2>
                <p>深く考えすぎず、直感で答えてください</p>
            </div>

            <button onclick="completeOrientation()" class="btn-primary">次へ進む</button>
        </div>

        <!-- 社員コード・部署入力ページ -->
        <div id="department-selection-page" class="page">
            <h1>基本情報の入力</h1>
            <form id="department-form">
                <div class="form-group">
                    <label for="employee-code">社員コード</label>
                    <input type="text" id="employee-code" required placeholder="例: EMP001">
                </div>

                <div class="form-group">
                    <label for="department">所属部署</label>
                    <input type="text" id="department" required placeholder="例: 営業部">
                </div>

                <button type="button" onclick="saveDepartmentAndStart()" class="btn-primary">診断を開始</button>
            </form>
        </div>

        <!-- 診断ページ -->
        <div id="survey-page" class="page">
            <!-- 進捗バー -->
            <div id="progress-bar">
                <div id="progress-fill"></div>
            </div>
            <div id="progress-text">セクション 1/10 | 質問 1/100</div>

            <!-- 質問コンテンツ -->
            <div id="survey-content"></div>
        </div>

        <!-- 結果ページ -->
        <div id="result-page" class="page">
            <h1>診断結果</h1>
            
            <div class="result-summary">
                <h2>総合スコア</h2>
                <div class="total-score" id="total-score"></div>
            </div>

            <div class="chart-container">
                <canvas id="result-chart"></canvas>
            </div>

            <div id="category-scores"></div>

            <div id="feedback"></div>

            <button onclick="showPage('history')" class="btn-primary">履歴を見る</button>
            <button onclick="location.reload()" class="btn-secondary">最初に戻る</button>
        </div>

        <!-- 履歴ページ -->
        <div id="history-page" class="page">
            <h1>診断履歴</h1>
            <div id="history-content">
                <p>過去の診断結果はまだありません</p>
            </div>
            <button onclick="showPage('top')" class="btn-secondary">トップに戻る</button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
