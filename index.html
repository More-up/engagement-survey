<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>エンゲージメント・ナビ - スマートに可視化する</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- トップページ -->
    <div id="top-page" class="page active">
        <div class="container">
            <h1>エンゲージメント・ナビ</h1>

            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>10の視点から診断</h3>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⏱️</div>
                    <h3>約15～20分で完了</h3>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📈</div>
                    <h3>フィードバック</h3>
                </div>
            </div>

            <button class="btn-primary" onclick="showPage('orientation-page')">診断を開始する</button>
        </div>
    </div>

    <!-- オリエンテーション＋基本情報入力ページ（統合） -->
    <div id="orientation-page" class="page">
        <div class="container">
            <h1>診断を始める前に</h1>
            
            <div class="orientation-content">
                <h2>📋 診断について</h2>
                <p><strong>全100問（10のセクションに分類）</strong></p>
                <p>各質問に対して、以下の5段階で回答してください：</p>
                <ul>
                    <li>5: とてもそう思う</li>
                    <li>4: そう思う</li>
                    <li>3: どちらともいえない</li>
                    <li>2: そう思わない</li>
                    <li>1: 全くそう思わない</li>
                </ul>

                <h2>⏱️ 所要時間</h2>
                <p>約15～20分程度で完了します</p>

                <h2>🔒 プライバシー</h2>
                <p>回答内容は統計的に処理され、個人が特定されることはありません</p>

                <h2>💡 回答のコツ</h2>
                <p>深く考えすぎず、直感で答えてください</p>
            </div>

            <div class="divider"></div>

            <!-- 基本情報入力 -->
            <h2>👤 基本情報の入力</h2>
            <form id="department-form">
                <div class="form-group">
                    <label for="employee-code">社員コード</label>
                    <input type="text" id="employee-code" required placeholder="例: EMP001">
                </div>

                <div class="form-group">
                    <label for="department">所属部署</label>
                    <select id="department" required>
                        <option value="">選択してください</option>
                        <option value="経営企画">経営企画</option>
                        <option value="営業部">営業部</option>
                        <option value="マーケティング部">マーケティング部</option>
                        <option value="開発部">開発部</option>
                        <option value="人事部">人事部</option>
                        <option value="総務部">総務部</option>
                        <option value="経理部">経理部</option>
                        <option value="カスタマーサポート">カスタマーサポート</option>
                        <option value="その他">その他</option>
                    </select>
                </div>

                <button type="button" onclick="saveDepartmentAndStart()" class="btn-primary">診断を開始</button>
            </form>
        </div>
    </div>

    <!-- 診断ページ -->
    <div id="survey-page" class="page">
        <!-- 進捗バー -->
        <div id="progress-bar-container">
            <div id="progress-bar">
                <div id="progress-fill"></div>
                <div id="progress-percentage">0%</div>
            </div>
        </div>

        <!-- 質問コンテンツ -->
        <div id="survey-content">
            <div class="section-container" id="questions-container"></div>
            
            <div class="nav-buttons">
                <button id="prev-btn" class="btn-secondary" onclick="previousSection()" style="display:none;">前のセクション</button>
                <button id="next-btn" class="btn-primary" onclick="nextSection()">次のセクション</button>
            </div>
        </div>
    </div>

    <!-- 結果ページ -->
    <div id="result-page" class="page">
        <div class="container">
            <h1>診断結果</h1>
            
            <div class="result-summary">
                <h2>あなたの総合スコア</h2>
                <div class="total-score" id="total-score">0</div>
                <p>（500点満点）</p>
            </div>

            <div class="chart-container">
                <canvas id="radarChart"></canvas>
            </div>

            <div class="category-results" id="category-results"></div>

            <div class="feedback-section" id="feedback-section"></div>

            <button class="btn-primary" onclick="location.reload()">もう一度診断する</button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
